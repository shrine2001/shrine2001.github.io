<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shrine 2001</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body, html { 
            margin: 0; padding: 0; height: 100%; width: 100%; 
            overflow: hidden; background-color: black;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        }
        .split-side { 
            transition: width 0.8s cubic-bezier(0.16, 1, 0.3, 1); 
            height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; position: relative; z-index: 10;
        }
        .hidden-page { display: none !important; }
        .animate-fadeIn { animation: fadeIn 0.6s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* HEADER & TITOLI HUB */
        .fixed-header { position: absolute; top: 40px; left: 0; right: 0; display: flex; justify-content: center; z-index: 30; pointer-events: none; }
        .header-title { text-align: center; text-indent: 0.54em; letter-spacing: 0.8em; font-size: 10px; font-weight: 300; text-transform: uppercase; color: rgba(255, 255, 255, 0.3); }

        /* FOLDER DESIGN */
        .folder-card { background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.05); transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1); cursor: pointer; position: relative; overflow: hidden; }
        .folder-card:hover { background: rgba(255, 255, 255, 0.07); border-color: rgba(255, 255, 255, 0.2); transform: translateY(-5px); }
        
        .content-anchor { height: 350px; display: flex; flex-direction: column; align-items: center; justify-content: flex-start; }

        /* GALLERY SPECIFICS */
        .gallery-container { 
            padding-top: 220px;
            padding-bottom: 100px; 
            display: flex;
            flex-direction: column;
            align-items: center;
        } 
        .gallery-container img { 
            width: 100%; max-width: 900px; height: auto; margin-bottom: 8rem; 
            border: 1px solid rgba(255,255,255,0.05); 
            filter: grayscale(10%); transition: filter 0.5s; 
            display: block;
        }
        
        #gallery-green { 
            background: black;
            scrollbar-width: none;
        }
        #gallery-green::-webkit-scrollbar { display: none; }

        .back-button-fixed { 
            position: fixed; top: 25px; left: 25px; z-index: 150;
            padding: 10px;
            mix-blend-mode: difference;
        }

        /* PALPEBRA SUPERIORE OTTIMIZZATA */
        .eyelid-top {
            position: fixed; top: -50px; left: -10%; right: -10%; z-index: 100;
            background: black;
            height: 220px;
            display: flex; flex-direction: column; align-items: center; justify-content: flex-end;
            padding-bottom: 40px;
            border-bottom-left-radius: 50% 100%;
            border-bottom-right-radius: 50% 100%;
            /* Ombra profonda per eliminare le "righe" visibili */
            box-shadow: 0 10px 60px 40px black;
            pointer-events: none;
        }
    </style>
</head>
<body>

    <div id="main-ui" class="flex w-screen h-screen relative">
        <div id="side-work" class="split-side w-1/2 bg-neutral-900 border-r border-white/5 group" onmouseenter="expand('work')" onmouseleave="expand('reset')">
            <div class="content-anchor w-full">
                <i data-lucide="briefcase" class="w-12 h-12 text-neutral-600 group-hover:text-white mb-8"></i>
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-light tracking-[0.4em] text-white uppercase mb-2">Work</h2>
                    <p class="text-[9px] tracking-[0.3em] text-neutral-500 uppercase">Professional Area</p>
                </div>
                <div class="flex gap-4 opacity-0 group-hover:opacity-100 transition-all">
                    <a href="#" class="border border-white/20 px-6 py-2 text-[9px] text-neutral-400 uppercase tracking-widest hover:bg-white hover:text-black">Linkedin</a>
                    <a href="#" class="border border-white/20 px-6 py-2 text-[9px] text-neutral-400 uppercase tracking-widest hover:bg-white hover:text-black">CV</a>
                </div>
            </div>
        </div>

        <div id="side-personal" class="split-side w-1/2 bg-black group" onmouseenter="expand('personal')" onmouseleave="expand('reset')">
            <div class="content-anchor w-full">
                <i data-lucide="moon" class="w-12 h-12 text-white/80 group-hover:rotate-90 transition-transform duration-700 mb-8"></i>
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-light tracking-[0.4em] text-white uppercase mb-2">Shrine</h2>
                    <p class="text-[9px] tracking-[0.3em] text-neutral-500 uppercase">Personal Area</p>
                </div>
                <button onclick="openPage('workspace-page')" class="opacity-0 group-hover:opacity-100 border border-white/20 px-8 py-2 text-[9px] text-neutral-400 uppercase tracking-widest hover:bg-white hover:text-black transition-all">Content</button>
            </div>
        </div>
    </div>

    <div class="fixed-header"><h1 class="header-title">2001</h1></div>

    <div id="workspace-page" class="hidden-page fixed inset-0 z-50 h-screen w-screen bg-black p-12 overflow-y-auto animate-fadeIn">
        <div class="max-w-6xl mx-auto">
            <button onclick="closeAllPages()" class="back-button-fixed flex items-center gap-2 text-neutral-600 hover:text-white tracking-widest text-[10px] uppercase">
                <i data-lucide="arrow-left" class="w-4 h-4"></i> Back to Hub
            </button>
            <header class="mb-16 mt-32">
                <h1 class="text-4xl font-light tracking-[0.5em] text-white mb-4 uppercase">Archive</h1>
                <p class="text-[10px] tracking-[0.3em] text-neutral-500 uppercase">Visual Collection</p>
            </header>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div onclick="openPage('gallery-green')" class="folder-card p-8 flex flex-col items-start gap-6">
                    <i data-lucide="folder" class="w-10 h-10 text-neutral-600"></i>
                    <h3 class="text-white text-sm tracking-[0.2em] uppercase font-light">!GREEN</h3>
                </div>
            </div>
        </div>
    </div>

    <div id="gallery-green" class="hidden-page fixed inset-0 z-[60] h-screen w-screen bg-black overflow-y-auto animate-fadeIn">
        
        <button onclick="openPage('workspace-page')" class="back-button-fixed flex items-center gap-2 text-neutral-600 hover:text-white tracking-widest text-[10px] uppercase">
            <i data-lucide="arrow-left" class="w-4 h-4"></i> Back to Archive
        </button>

        <div class="eyelid-top">
            <h2 class="text-white text-2xl font-extralight tracking-[0.6em] uppercase mb-1">!GREEN</h2>
            <p class="text-neutral-500 text-[8px] tracking-[0.4em] uppercase">green is truth</p>
        </div>

        <div class="max-w-4xl mx-auto">
            <div id="infinite-container" class="gallery-container">
                <img src="src/eyeseyeseyes.jpeg" alt="img1">
                <img src="src/greenessence.jpeg" alt="img2">
                <img src="src/greenworship.jpeg" alt="img3">
                <img src="src/truegreen.jpeg" alt="img4">
            </div>
        </div>
    </div>

    <script>
        lucide.createIcons();

        function expand(side) {
            const work = document.getElementById('side-work');
            const personal = document.getElementById('side-personal');
            if (side === 'work') { work.style.width = '62%'; personal.style.width = '38%'; }
            else if (side === 'personal') { work.style.width = '38%'; personal.style.width = '62%'; }
            else { work.style.width = '50%'; personal.style.width = '50%'; }
        }

        function openPage(pageId) {
            const pages = ['main-ui', 'workspace-page', 'gallery-green'];
            pages.forEach(id => document.getElementById(id).classList.add('hidden-page'));
            document.getElementById(pageId).classList.remove('hidden-page');
            document.getElementById(pageId).scrollTop = 0;
            lucide.createIcons();

            if (pageId === 'gallery-green') initInfiniteScroll();
        }

        function closeAllPages() { openPage('main-ui'); }

        let isCloneDone = false;
        function initInfiniteScroll() {
            const wrapper = document.getElementById('gallery-green');
            const container = document.getElementById('infinite-container');
            if (!isCloneDone) {
                container.innerHTML += container.innerHTML; 
                isCloneDone = true;
            }
            wrapper.onscroll = function() {
                const half = container.offsetHeight / 2;
                if (wrapper.scrollTop >= half) wrapper.scrollTop = 1;
                else if (wrapper.scrollTop <= 0) wrapper.scrollTop = half - 1;
            };
        }
    </script>
</body>
</html>
